<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mysteric | Interactive Bio</title>
    <!-- Favicon link added -->
    <link rel="icon" href="https://favicon-generator.org/favicon-generator/htdocs/favicons/2015-01-18/1d5f2222a928fdf9a91e43e3dbd4c5bb.ico" type="image/x-icon">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load New Font: UnifrakturCook -->
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap" rel="stylesheet">
    
    <!-- Custom Cursor and Font Styling -->
    <style>
        /* Define a custom, dark/glitchy font stack for better match */
        body {
            /* Fallback to Inter, but use monospace for the distinct aesthetic */
            font-family: 'Inter', monospace;
            overflow: hidden;
            background-color: #000000; 
            
            /* Custom Crosshair Cursor - UPDATED */
            cursor: url(https://r2.guns.lol/5b759186-7799-4cb6-871d-198d1519c5dd.webp) 16 16, auto !important;
        }
        
        /* Apply UnifrakturCook font specifically to the main name */
        #typewriter-text {
            font-family: 'UnifrakturCook', cursive !important;
        }
        
        /* Hide the simple custom cursor used in the previous versions since we're using a CSS cursor */
        #custom-cursor {
            display: none !important;
        }
        
        /* --- Background Glitch/Scanline Effect (Stage 2) --- */
        @keyframes scanline-anim {
            0% { background-position: 0 50%; }
            100% { background-position: 0 -50%; }
        }

        .glitch-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* Overlay the video (z-index 0) */
            background-color: transparent; /* Crucial: allow video through */
            background-image: 
                /* Subtle horizontal lines/scanlines */
                repeating-linear-gradient(
                    to bottom, 
                    transparent 0px, 
                    rgba(255, 255, 255, 0.05) 1px, 
                    transparent 2px
                ),
                /* Subtle vertical noise/grain */
                repeating-linear-gradient(
                    90deg,
                    rgba(255, 255, 255, 0.04),
                    rgba(255, 255, 255, 0.04) 1px,
                    transparent 1px,
                    transparent 50px
                );
            background-size: 100% 400%; 
            animation: scanline-anim 10s linear infinite;
        }

        /* --- CRT EFFECT STYLES --- */
        @keyframes crt-scanlines {
            0% { background-position: 0 0; }
            100% { background-position: 0 100%; }
        }
        
        #crt-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2; /* Sits above video and glitch-bg, below content */
            pointer-events: none;
            
            /* Scanlines */
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%);
            background-size: 100% 3px; /* Scanline thickness */
            animation: crt-scanlines 0.2s linear infinite;
            
            /* Color and blur distortion (Chromatic Aberration/RGB ghosting) */
            filter: blur(0.5px) contrast(1.1);
            mix-blend-mode: overlay; 
            
            /* RGB separation using text-shadow style */
            box-shadow: 
                0 0 10px rgba(255, 0, 0, 0.2), /* Red ghost */
                0 0 10px rgba(0, 255, 0, 0.1), /* Green ghost */
                0 0 10px rgba(0, 0, 255, 0.3); /* Blue ghost */
        }
        
        /* NEW: Animation for texture scrolling */
        @keyframes texture-scroll {
            0% { background-position: 0 0; }
            100% { background-position: 0 100%; }
        }
        
        /* --- NEW TEXTURE OVERLAY STYLES --- */
        #new-texture-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3; /* Placed above CRT/Glitch but below the profile box */
            pointer-events: none;
            
            /* Setting the new image as the background */
            background-image: url('https://www.shutterstock.com/shutterstock/videos/3692441121/thumb/1.jpg?ip=x480');
            background-size: cover;
            background-position: center;
            
            /* Blending Mode */
            opacity: 0.3; /* Subtle presence */
            mix-blend-mode: overlay; /* Best for adding texture and contrast */
            
            /* Applying the infinite scroll animation */
            animation: texture-scroll 30s linear infinite;
        }


        /* --- Stage 1 & 2 Transition Styles --- */
        #initial-view {
            transition: opacity 1s ease-in-out;
            transform: scale(1);
        }

        #main-profile {
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            
            /* REQUIRED for 3D perspective to work on children */
            perspective: 1000px;
        }

        #main-profile.visible {
            opacity: 1;
        }

        /* --- Social Icon Glow --- */
        .social-icon-glow {
            filter: drop-shadow(#ffffff 1px 0 7px);
            transition: filter 0.2s, transform 0.2s;
        }
        .social-icon-glow:hover {
            filter: drop-shadow(#ffffff 1px 0 10px); 
            transform: scale(1.1);
        }
        
        /* Container for the profile elements to give it a wide shape */
        #profile-container {
            width: 100%;
            max-width: 800px; 
            margin-top: -10vh; 
            padding: 20px 30px; 
            overflow: hidden; 
            
            /* ADDED: Smooth transition for 3D tilt */
            transition: transform 0.1s ease-out;
            /* REQUIRED: Ensures the element participates in 3D space */
            transform-style: preserve-3d;
        }
        
        /* Typewriter Cursor (subtle glow cursor for the text effect) */
        .typewriter-cursor {
            display: inline-block;
            width: 10px; 
            height: 25px; 
            background-color: white;
            margin-left: 2px;
            animation: blink 0.7s infinite;
            box-shadow: 0 0 5px white;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* Text container height maintained for stability, but now serves as the positioning context */
        #text-stack-wrapper {
            height: 100px; 
            position: relative; /* CRITICAL: Establishes a positioning context for absolute children */
        }
        
        /* FIX: Absolutely position description and date texts relative to the wrapper to prevent movement */
        #profile-description {
            position: absolute;
            top: 40px; /* Adjusted to sit under the large name text */
            left: 0;
            white-space: nowrap; /* Prevent shifting due to line wrap */
            font-size: 0.75rem; /* Making this text smaller (text-xs equivalent) */
        }
        
        #joined-date {
            position: absolute;
            top: 65px; /* Positioned below the description */
            left: 0;
            white-space: nowrap;
        }
        
        /* Custom image styling to ensure it looks like an icon next to the name */
        #ninety-nine-nine-icon {
            width: 60px; 
            height: auto; 
            margin-left: 8px; /* Spacing from name */
        }
        
        /* Style for the actual profile picture image inside the circle container */
        .profile-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            border-radius: 50%; 
            padding: 0; 
        }
        
        /* FIX: Set pfp container to overflow hidden to clip the image to the circle */
        #profile-picture {
            overflow: hidden;
        }


        /* Mobile adjustments */
        @media (max-width: 600px) {
            #profile-container {
                max-width: 95%;
            }
        }

    </style>
    
    <!-- Load Firebase (required for environment, keeping minimal) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase setup and authentication (required by the environment)
        setLogLevel('Debug');
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};

        let app, db, auth;
        let userId;

        if (Object.keys(firebaseConfig).length > 0) {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            auth = getAuth(app);

            const initializeAuth = async () => {
                try {
                    if (typeof __initial_auth_token !== 'undefined') {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                    // Get userId after successful sign-in
                    userId = auth.currentUser?.uid || crypto.randomUUID();
                } catch (error) {
                    console.error("Firebase Auth initialization error:", error);
                }
            };
            initializeAuth();
        } else {
             console.warn("Firebase config not available. Running without Firebase services.");
             userId = crypto.randomUUID();
        }
    </script>
</head>
<body class="antialiased">

    <!-- 
        STAGE 1: INITIAL INTERACTIVE SCREEN 
    -->
    <div id="initial-view" class="fixed inset-0 flex items-center justify-center z-20 bg-black">
        <!-- Central Entry Text (^.^) -->
        <div class="text-white text-3xl font-bold tracking-wider absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-90 transition duration-1000">
             ^.^
        </div>
    </div>

    <!-- 
        STAGE 2: MAIN PROFILE VIEW 
    -->
    <div id="main-profile" class="fixed inset-0 flex items-center justify-center p-4 z-10">
        
        <!-- Video Background -->
        <video id="background-video" autoplay loop playsinline 
               muted 
               class="absolute inset-0 w-full h-full object-cover z-0 pointer-events-none">
            <!-- UPDATED: New video source -->
            <source src="https://r2.guns.lol/89126144-0d0e-4068-a016-21cbaf78f94f.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        <!-- CRT Overlay (Z-index 2) -->
        <div id="crt-overlay"></div>
        
        <!-- NEW Texture Overlay (Z-index 3) - Now Animated -->
        <div id="new-texture-overlay"></div>

        <!-- Glitch/Grid Background Overlay (Z-index 1) - Applied over the video -->
        <div class="glitch-bg"></div>

        <!-- Sound Toggle Button (Top Left) -->
        <button id="sound-toggle" class="absolute top-5 left-5 p-2 text-white z-40 transition hover:scale-110 border border-white/20 rounded-lg bg-black/50">
             <svg id="sound-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                 <!-- Default icon set in JS, placeholder here -->
                 <path fill="currentColor" d="M0 0h48v48H0z" mask="url(#ipTVolumeNotice0)"></path>
             </svg>
        </button>

        <!-- Profile Container (The horizontal area) -->
        <div id="profile-container" class="relative z-10 p-6 ease-out rounded-xl shadow-2xl bg-black/50 backdrop-blur-sm">
            
            <div class="flex items-start w-full relative">
                
                <!-- Profile Picture (Left Layer) -->
                <!-- Added overflow-hidden to the container and removed content padding -->
                <div class="w-24 h-24 rounded-full border-2 border-white/50 bg-black shrink-0 transition duration-75 ease-out overflow-hidden" id="profile-picture">
                    <!-- NEW: Updated PFP image source -->
                    <img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS2dKAibmo81kEWCRTFZI9aSF4wTYcCtZEa-Z8MN4982BplvlGP" 
                         alt="Profile Picture" 
                         class="profile-img" 
                         onerror="this.onerror=null;this.src='https://placehold.co/96x96/000000/ffffff?text=PFP';">
                </div>

                <!-- Name & Description Stack (Right side of profile pic) -->
                <div id="text-stack-wrapper" class="ml-6 flex flex-col items-start pt-1">
                    <div class="flex items-center space-x-2 mb-0 transition duration-75 ease-out" id="profile-name-container">
                        <!-- Removed uppercase class -->
                        <h1 class="text-3xl font-bold tracking-widest text-white" id="typewriter-text" style="font-weight: 700;"></h1>
                        <span class="typewriter-cursor"></span>
                        
                        <!-- UPDATED: 999 image now has 100% increased width (60px) -->
                        <img id="ninety-nine-nine-icon" 
                             src="https://sweezy-cursors.com/wp-content/uploads/cursor/juice-wrld-999/juice-wrld-999-custom-cursor.png" 
                             alt="999 Logo" 
                             class="social-icon-glow shrink-0" 
                             onerror="this.onerror=null;this.src='https://placehold.co/20x20/ffffff/000000?text=999'">
                    </div>
                    
                    <!-- ABSOLUTELY POSITIONED ELEMENTS -->
                    <!-- UPDATED: text-sm class removed in favor of CSS font-size: 0.75rem for smaller size -->
                    <h3 class="font-semibold text-gray-200 mb-0 transition duration-75 ease-out uppercase" id="profile-description">YOUR NEW FAVORITE DESIGNER</h3>
                    <p class="text-xs md:text-sm font-light text-gray-500 transition duration-75 ease-out mt-1" id="joined-date">EST. 2015</p>
                </div>
            </div>

            <!-- Separator Line and Socials -->
            <div class="w-full mt-6 pt-4 border-t border-white/20">
                <!-- Social Links - using 'justify-between' for full width distribution -->
                <div class="flex justify-between items-center text-white">
                    <!-- All links now point to https://mysteric.xyz -->
                    <!-- YouTube -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="YouTube">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="1.99 5 20.01 14.01"><path fill="currentColor" d="M21.593 7.203a2.506 2.506 0 0 0-1.762-1.766C18.265 5.007 12 5 12 5s-6.264-.007-7.831.404a2.56 2.56 0 0 0-1.766 1.778c-.413 1.566-.417 4.814-.417 4.814s-.004 3.264.406 4.814c.23.857.905 1.534 1.763 1.765c1.582.43 7.83.437 7.83.437s6.265.007 7.831-.403a2.515 2.515 0 0 0 1.767-1.763c.414-1.565.417-4.812.417-4.812s.02-3.265-.407-4.831zM9.996 15.005l.005-6l5.207 3.005l-5.212 2.995z"/></svg>
                    </a>
                    <!-- Instagram -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="3 2.98 18.01 18.04"><path fill="currentColor" d="M20.947 8.305a6.53 6.53 0 0 0-.419-2.216a4.61 4.61 0 0 0-2.633-2.633a6.606 6.606 0 0 0-2.186-.42c-.962-.043-1.267-.055-3.709-.055s-2.755 0-3.71.055a6.606 6.606 0 0 0-2.185.42a4.607 4.607 0 0 0-2.633 2.633a6.554 6.554 0 0 0-.419 2.185c-.043.963-.056 1.268-.056 3.71s0 2.754.056 3.71c.015.748.156 1.486.419 2.187a4.61 4.61 0 0 0 2.634 2.632a6.584 6.584 0 0 0 2.185.45c.963.043 1.268.056 3.71.056s2.755 0 3.71-.056a6.59 6.59 0 0 0 2.186-.419a4.615 4.615 0 0 0 2.633-2.633c.263-.7.404-1.438.419-2.187c.043-.962.056-1.267.056-3.71c-.002-2.442-.002-2.752-.058-3.709zm-8.953 8.297c-2.554 0-4.623-2.069-4.623-4.623s2.069-4.623 4.623-4.623a4.623 4.623 0 0 1 0 9.246zm4.807-8.339a1.077 1.077 0 0 1-1.078-1.078a1.077 1.077 0 1 1 2.155 0c0 .596-.482 1.078-1.077 1.078z"/><circle cx="11.994" cy="11.979" r="3.003" fill="currentColor"/></svg>
                    </a>
                    <!-- SoundCloud -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="SoundCloud">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="1.99 7.64 20.02 8.72"><path fill="currentColor" d="M2.971 12.188c-.041 0-.078.038-.083.082l-.194 1.797l.194 1.756c.005.049.042.082.083.082s.075-.033.084-.082l.211-1.756l-.225-1.797c0-.046-.037-.082-.074-.082m-.75.691c-.051 0-.076.03-.088.079l-.138 1.109l.138 1.092c0 .046.037.078.075.078c.039 0 .073-.038.087-.087l.176-1.1l-.176-1.112c0-.051-.037-.076-.075-.076m1.526-1.025c-.052 0-.1.039-.1.087l-.176 2.139l.188 2.051c0 .049.037.1.099.1c.052 0 .089-.051.102-.1l.211-2.064l-.211-2.126c-.013-.049-.052-.1-.102-.1m.79-.075c-.063 0-.114.051-.126.113l-.161 2.201l.177 2.123c.012.063.122.114.122.114c.064 0 .113-.051.125-.124l.201-2.113l-.201-2.187a.11.11 0 0 0-.111-.112l-.026-.015zm.962.301a.128.128 0 0 0-.133-.125a.134.134 0 0 0-.137.125l-.182 2.026l.169 2.138a.13.13 0 0 0 .132.131c.062 0 .123-.055.123-.132l.189-2.139l-.189-2.036l.028.012zm.674-1.426a.154.154 0 0 0-.148.15l-.176 3.3l.156 2.139c0 .077.066.137.15.137c.078 0 .145-.074.15-.15l.174-2.137l-.173-3.313c-.007-.088-.074-.152-.15-.152m.8-.762a.178.178 0 0 0-.17.163l-.15 4.063l.138 2.125c0 .1.075.174.163.174c.086 0 .161-.074.174-.174l.162-2.125l-.161-4.052c-.013-.1-.088-.175-.175-.175m.826-.372c-.102 0-.176.073-.188.173l-.139 4.4l.139 2.102c.012.1.086.188.188.188a.193.193 0 0 0 .187-.188l.163-2.102l-.164-4.4c0-.1-.087-.188-.188-.188m1.038.038a.196.196 0 0 0-.199-.199a.205.205 0 0 0-.201.199l-.125 4.538l.124 2.089c.015.111.101.199.214.199s.201-.088.201-.199l.136-2.089l-.136-4.55l-.014.012zm.625-.111c-.113 0-.213.1-.213.211l-.125 4.439l.125 2.063c0 .125.1.213.213.213a.221.221 0 0 0 .214-.224l.125-2.064l-.14-4.428c0-.122-.1-.225-.225-.225m.838.139a.236.236 0 0 0-.237.237l-.086 4.29l.113 2.063c0 .124.1.231.236.231c.125 0 .227-.1.237-.237l.101-2.038l-.112-4.265c-.01-.137-.113-.238-.237-.238m.988-.786a.27.27 0 0 0-.139-.037c-.05 0-.1.013-.137.037a.25.25 0 0 0-.125.214v.05l-.086 5.044l.096 2.043v.007c.006.05.024.112.06.15c.05.051.12.086.196.086a.28.28 0 0 0 .175-.074a.262.262 0 0 0 .076-.188l.013-.201l.097-1.838l-.113-5.075a.24.24 0 0 0-.111-.199l-.002-.019zm.837-.457a.155.155 0 0 0-.124-.052a.283.283 0 0 0-.174.052a.265.265 0 0 0-.1.201v.023l-.114 5.513l.063 1.014l.052.988a.274.274 0 0 0 .548-.012l.125-2.013l-.125-5.536a.273.273 0 0 0-.138-.231m7.452 3.15c-.336 0-.663.072-.949.193a4.34 4.34 0 0 0-5.902-3.651c-.188.075-.227.151-.238.301v7.812a.31.31 0 0 0 .275.29h6.827a2.428 2.428 0 0 0 2.45-2.438a2.457 2.457 0 0 0-2.45-2.463"/></svg>
                    </a>
                    <!-- TikTok -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="TikTok">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="3.2 2 17.43 19.99"><path fill="currentColor" d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74a2.89 2.89 0 0 1 2.31-4.64a2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
                    </a>
                    <!-- Ko-Fi (Coffee cup/heart icon used in screenshot) -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="Ko-Fi">
                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M31.844 11.932c-1.032-5.448-6.48-6.125-6.48-6.125H.964C.156 5.807.057 6.87.057 6.87S-.052 16.637.03 22.637c.22 3.228 3.448 3.561 3.448 3.561s11.021-.031 15.953-.067c3.251-.568 3.579-3.423 3.541-4.98c5.808.323 9.896-3.776 8.871-9.219zm-14.751 4.683c-1.661 1.932-5.348 5.297-5.348 5.297s-.161.161-.417.031c-.099-.073-.14-.12-.14-.12c-.595-.588-4.491-4.063-5.381-5.271c-.943-1.287-1.385-3.599-.119-4.948c1.265-1.344 4.005-1.448 5.817.541c0 0 2.083-2.375 4.625-1.281c2.536 1.095 2.443 4.016.963 5.751m8.23.636c-1.24.156-2.244.036-2.244.036V9.714h2.359s2.631.735 2.631 3.516c0 2.552-1.313 3.557-2.745 4.021z"/></svg>
                    </a>
                    <!-- Email (Mail) - Changed to <a> tag -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="Email">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="2 4 20 16"><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4l-8 5l-8-5V6l8 5l8-5z"/></svg>
                    </a>
                    <!-- Spotify -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="Spotify">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="2.02 2.02 19.98 19.98"><path fill="currentColor" d="M12.01 2.019c-5.495 0-9.991 4.496-9.991 9.991c0 5.494 4.496 9.99 9.991 9.99c5.494 0 9.99-4.496 9.99-9.99c0-5.495-4.446-9.991-9.99-9.991zm4.595 14.436c-.199.299-.549.4-.85.201c-2.349-1.45-5.296-1.75-8.793-.951c-.348.102-.648-.148-.748-.449c-.101-.35.149-.648.45-.749c3.795-.85 7.093-.499 9.69 1.1c.35.149.4.548.251.848zm1.2-2.747c-.251.349-.7.499-1.051.249c-2.697-1.646-6.792-2.148-9.939-1.148c-.398.101-.85-.1-.949-.498c-.101-.402.1-.852.499-.952c3.646-1.098 8.143-.548 11.239 1.351c.3.149.45.648.201.998zm.099-2.799c-3.197-1.897-8.542-2.097-11.59-1.146a.938.938 0 0 1-1.148-.6a.937.937 0 0 1 .599-1.151c3.547-1.049 9.392-.85 13.089 1.351c.449.249.599.849.349 1.298c-.25.35-.849.498-1.299.248z"/></svg>
                    </a>
                    <!-- Globe / Custom URL - Changed to <a> tag -->
                    <a href="https://mysteric.xyz" target="_blank" class="social-icon-glow w-14 h-14 flex items-center justify-center" title="Custom URL / DistroKid">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="2 2 28 28"><path fill="currentColor" d="M11 16c0-1.393.078-2.734.222-4h9.556c.144 1.266.222 2.607.222 4c0 1.393-.078 2.734-.222 4h-9.556A35.485 35.485 0 0 1 11 16Zm-1.79 4A37.618 37.618 0 0 1 9 16c0-1.379.073-2.72.21-4H2.58A14.002 14.002 0 0 0 2 16c0 1.39.203 2.733.58 4h6.63Zm-5.863 2h6.138c.314 1.86.771 3.547 1.344 4.978c.369.922.793 1.758 1.272 2.472A14.036 14.036 0 0 1 3.347 22Zm8.168 0h8.97c-.29 1.6-.69 3.032-1.17 4.235c-.516 1.288-1.104 2.262-1.706 2.9c-.6.634-1.144.865-1.609.865c-.465 0-1.009-.231-1.609-.866c-.602-.637-1.19-1.611-1.705-2.899c-.481-1.203-.881-2.636-1.171-4.235Zm11 0c-.314 1.86-.771 3.547-1.344 4.978c-.369.922-.793 1.758-1.272 2.472A14.036 14.036 0 0 0 28.653 22h-6.138Zm6.905-2c.377-1.267.58-2.61.58-4c0-1.39-.203-2.733-.58-4h-6.63c.137 1.28.21 2.621.21 4s-.073 2.72-.21 4h6.63ZM19.314 5.765c.481 1.203.881 2.636 1.171 4.235h-8.97c.29-1.6.69-3.032 1.17-4.235c.516-1.288 1.104-2.263 1.706-2.9c.598-.631 1.14-.863 1.604-.865h.008c.464 0 1.007.233 1.606.866c.602.636 1.19 1.611 1.705 2.899ZM22.515 10h6.138a14.036 14.036 0 0 0-8.754-7.45c.479.714.903 1.55 1.272 2.472c.573 1.431 1.03 3.118 1.344 4.978ZM3.347 10h6.138c.314-1.86.771-3.547 1.344-4.978c.369-.922.793-1.758 1.272-2.472A14.036 14.036 0 0 0 3.347 10Z"/></svg>
                    </a>
                </div>
            </div>
            
            <!-- Location/Status Footer (NEW Position: Under Socials) -->
            <div class="w-full mt-4 text-sm text-white/90 z-10 transition duration-75 ease-out flex items-center" id="location-display">
                <!-- Icon REVERTED to original w-5 h-5 -->
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="4 2 16 20" class="inline-block align-middle w-5 h-5 mr-1"><path fill="currentColor" d="M12 12q.825 0 1.413-.587T14 10t-.587-1.412T12 8t-1.412.588T10 10t.588 1.413T12 12m0 10q-4.025-3.425-6.012-6.362T4 10.2q0-3.75 2.413-5.975T12 2t5.588 2.225T20 10.2q0 2.5-1.987 5.438T12 22"/></svg>
                <span class="tracking-wider align-middle">999</span>
            </div>
            
        </div>
    </div>

    <script>
        // DOM Elements
        const initialView = document.getElementById('initial-view');
        const mainProfile = document.getElementById('main-profile');
        const profileContainer = document.getElementById('profile-container'); 
        const backgroundVideo = document.getElementById('background-video');
        const soundToggle = document.getElementById('sound-toggle');
        const soundIcon = document.getElementById('sound-icon');
        const typewriterTextElement = document.getElementById('typewriter-text');
        const typewriterCursor = document.querySelector('.typewriter-cursor');

        let isProfileVisible = false;
        
        // Initial state is UNMUTED (false)
        let isMuted = false;
        
        // UPDATED: Removed the pipe "|" from the name text
        const NAME_TEXT = "mysteric";

        // --- TYPEWRITER EFFECT LOGIC ---
        let charIndex = 0;
        let isDeleting = false;
        let speed = 150; // Typing speed (ms)
        let delay = 2000; // Pause before deleting

        function type() {
            const currentText = NAME_TEXT;
            
            if (isDeleting) {
                // Delete
                typewriterTextElement.textContent = currentText.substring(0, charIndex - 1);
                charIndex--;
                speed = 50; // Faster deleting
            } else {
                // Type
                typewriterTextElement.textContent = currentText.substring(0, charIndex + 1);
                charIndex++;
                speed = 150; // Regular typing
            }

            if (!isDeleting && charIndex === currentText.length) {
                // Completed typing, start deleting after a delay
                isDeleting = true;
                speed = delay;
            } else if (isDeleting && charIndex === 0) {
                // Completed deleting, start typing again immediately
                isDeleting = false;
                speed = 500; // Pause after full delete
            }

            // Loop
            setTimeout(type, speed);
        }

        // --- STAGE 1 & 2 LOGIC (Transition and Tilt) ---
        
        // Tilt effect constants
        const MAX_TILT_DEGREE = 5; // Max rotation angle in degrees
        
        function updateCursor(e) {
            if (!isProfileVisible) return;

            // 1. Get the bounding box of the profile container
            const rect = profileContainer.getBoundingClientRect();

            // 2. Calculate mouse position relative to the container center
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            const moveX = e.clientX - centerX;
            const moveY = e.clientY - centerY;

            // 3. Normalize values to [-1, 1] based on container size
            const normalizedX = moveX / (rect.width / 2);
            const normalizedY = moveY / (rect.height / 2);
            
            // 4. Calculate rotation (Inverted for the 'tilt towards me' effect)
            const finalRotateX = -normalizedY * MAX_TILT_DEGREE;
            const finalRotateY = normalizedX * MAX_TILT_DEGREE;

            profileContainer.style.transform = `rotateX(${finalRotateX}deg) rotateY(${finalRotateY}deg)`;
        }

        document.addEventListener('mousemove', updateCursor);


        function handleStageChange() {
            if (isProfileVisible) return;

            isProfileVisible = true;

            // 1. Hide Initial View
            initialView.style.opacity = '0';
            
            // CRITICAL FIX: Set muted to false AND explicitly call play() 
            // after the user interaction has granted media permission.
            backgroundVideo.muted = false;
            backgroundVideo.play().catch(error => {
                 console.error("Failed to play video/audio after user interaction:", error);
            });
            
            // 2. Show Main Profile View and start typewriter
            setTimeout(() => {
                initialView.classList.add('hidden');
                mainProfile.classList.add('visible');
                // The typewriter cursor should be hidden when the name is fully typed, 
                // but shown here to make the typing visible.
                typewriterCursor.style.display = 'inline-block'; 
                type(); // Start the typewriter effect
            }, 50);
            
            // Remove click listener
            document.removeEventListener('click', clickListener);
            
            // Initial sound icon setup (already unmuted, this sets the correct icon)
            updateSoundIcon();
        }
        
        let enableClick = false;
        const clickListener = (e) => {
            if (e.target.closest('#sound-toggle') || e.target.closest('a')) return; 
            if(enableClick) {
                handleStageChange();
            }
        };
        
        setTimeout(() => {
            enableClick = true;
            document.addEventListener('click', clickListener);
        }, 500); 

        
        // Sound Toggle Handler
        function updateSoundIcon() {
            // SVG path for the unmuted volume base and waves
            const volumePath = `
                <path fill="none" stroke="#fff" stroke-width="4" stroke-linejoin="round" d="M24 6v36c-7 0-12.201-9.16-12.201-9.16H6a2 2 0 0 1-2-2V17.01a2 2 0 0 1 2-2h5.799S17 6 24 6Z"></path>
                <path stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M32 15a11.91 11.91 0 0 1 1.684 1.859A12.07 12.07 0 0 1 36 24c0 2.654-.846 5.107-2.278 7.09A11.936 11.936 0 0 1 32 33"></path>
                <path stroke="#fff" stroke-linecap="round" stroke-width="4" d="M34.236 41.186C40.084 37.696 44 31.305 44 24c0-7.192-3.796-13.496-9.493-17.02"></path>
            `;
            
            if (isMuted) {
                // Muted state: volume base + mute X (using a simple X line for clear mute)
                backgroundVideo.muted = true;
                soundIcon.innerHTML = `
                    <g fill="none" stroke="#fff" stroke-width="4">
                        <path stroke-linejoin="round" d="M24 6v36c-7 0-12.201-9.16-12.201-9.16H6a2 2 0 0 1-2-2V17.01a2 2 0 0 1 2-2h5.799S17 6 24 6Z"></path>
                        <path stroke-linecap="round" d="M36 12L12 36"/>
                    </g>
                `;
            } else {
                // Unmuted state: volume base + waves
                backgroundVideo.muted = false;
                soundIcon.innerHTML = `<g>${volumePath}</g>`;
            }
        }
        
        soundToggle.addEventListener('click', (e) => {
            e.stopPropagation(); 
            isMuted = !isMuted;
            updateSoundIcon();
        });

        window.addEventListener('load', () => {
            // Video starts muted, but we set the logic to unmute on interaction (handleStageChange)
            backgroundVideo.muted = true; // Still necessary for autoplay restrictions
            updateSoundIcon(); // Sets the initial icon to MUTED
        });
        
        // Reset tilt when the mouse leaves the window (Optional, but good practice)
        document.addEventListener('mouseleave', () => {
            if (isProfileVisible) {
                profileContainer.style.transform = `rotateX(0deg) rotateY(0deg)`;
            }
        });

    </script>
</body>
</html>
